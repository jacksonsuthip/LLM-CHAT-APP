<div class="container-fluid p-3">
  <!-- Sidebar Section (Delete History Button) -->
  <div class="row">
    <div class="col-md-3">
      <div class="card p-3 shadow-sm">
        <button (click)="deleteChatHistory()" class="btn btn-danger w-100">Delete Chat History</button>
      </div>
    </div>

    <!-- Main Content Section -->
    <div class="col-md-6">
      <div class="card p-3 shadow-sm" style="height: 70vh; overflow-y: auto;">
        <div *ngFor="let message of chatHistory" class="d-flex mb-3"
          [ngClass]="{ 'flex-row-reverse': message.Role !== 'Assistant' }">
          <div class="avatar me-3">
            <span>{{ message.Role !== 'Assistant' ? 'ğŸ‘¤' : 'ğŸ¤–' }}</span>
          </div>
          <div class="message-content bg-light p-2 rounded shadow-sm">
            <p class="m-0">{{ message.Assistant }}{{ message.User }}</p>
          </div>
        </div>
        <div *ngIf="isProcessing" class="text-center text-muted">
          <p>Loading...</p>
        </div>
      </div>

      <!-- User Input Section -->
      <div class="mt-3">
        <input [(ngModel)]="userInput" (keyup.enter)="sendMessage()" class="form-control"
          placeholder="Type your message..." />
      </div>
    </div>

    <!-- Dropdown & Range Section (on the right) -->
    <div class="col-md-3">
      <div class="card p-3 shadow-sm">
        <div class="mb-3">
          <select [(ngModel)]="model" class="form-select">
            <option value="llama3.2:1b">llama3.2:1b</option>
            <option value="phi3:3.8b">phi3:3.8b</option>
            <option value="mistral">mistral</option>
          </select>
        </div>
        <div>
          <span>Temperature: {{ temperature }}</span>
          <input type="range" [(ngModel)]="temperature" min="0" max="10" step="1" class="form-range" />
        </div>
      </div>
    </div>
  </div>
</div>